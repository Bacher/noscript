# ns.View

## Про события

Список событий:
* ```ns-hide``` - view был скрыт и больше не виден на странице
* ```ns-htmldestroy``` - старая нода у view была заменена на новую
* ```ns-htmlinit``` - у view появилась новая нода
* ```ns-async``` - у async-view появилась заглушка. Это единственное событие, которое генерируется для заглушки async-view
* ```ns-show``` - view был показан и теперь виден на странице
* ```ns-repaint``` - view виден и был затронут в процессе обновления страницы

1. События генерируются снизу вверх, т.е. сначала их получают дочерние view, потом родительские.
2. События генерируются пачками, т.е. сначала одно событие у всех view, потом другое событие у всех view.
3. События генерируются в строго определенном порядке:

```
ns-hide
ns-htmldestroy
ns-htmlinit
ns-async
ns-show
ns-repaint
```

Примеры последовательностей событий:
* инициализация view: ```ns-htmlinit -> ns-show -> ns-repaint```
* перерисовка страница, если view валиден: ```ns-repaint```
* view был скрыт: ```ns-hide``` (без ```ns-repaint```)
* view был показан: ```ns-show -> ns-repaint```
* view был обновлене: ```ns-hide -> ns-htmldestroy -> ns-htmlinit -> ns-show -> ns-repaint``` (```ns-hide``` тут вызывается из тех соображений, что могут быть обработчики, которые вешаются на ```ns-show/ns-hide``` и при обновлении ноды, они должны быть переинициализированы)
