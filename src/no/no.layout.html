<!DOCTYPE html>
<html class="i-ua_js_no i-ua_css_standard">

<head>
    <meta charset=utf-8 />
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7, IE=edge"/>
    <title>Яндекс.Фото</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="/css/layout.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="/css/photo.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="/nanoblocks/blocks/s/all.css" type="text/css" media="screen" charset="utf-8">

    <!--[if gt IE 7]><!-->
    <link rel="stylesheet" href="/html/pages/all/all.css"/>
    <!--<![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/html/pages/all/all.ie.css"/>
    <![endif]-->

    <link rel="stylesheet" href="/blocks/all.css" type="text/css" media="screen" charset="utf-8">
    <title>no.layout</title>
    <script src="/js/jquery-1.7.1.js"></script>
    <script src="no.js"></script>
    <script src="no.object.js"></script>
    <script src="no.array.js"></script>
    <script src="no.events.js"></script>
    <script src="no.promise.js"></script>
    <script src="no.model.js"></script>
    <script src="no.view.js"></script>
    <script src="no.box.js"></script>
    <script src="no.layout.js"></script>
    <script src="no.request.js"></script>
    <script src="no.update.js"></script>
    <script src="no.http.js"></script>
    <script src="layout.js"></script>
    <script src="/js/runtime.js"></script>
    <script src="/js/externals.js"></script>
    <script src="/pheebs.yate.js"></script>
</head>
<body>

<div class="view view-app" dummy="true"></div>

<script>
no.Model.define('auth');
no.Model.define('index');
no.Model.define('profile', {
    params: {
        'author-login': true
    }
});
no.Model.define('recent-photos', {
    params: {
        'author-login': true
    }
});
no.Model.define('photo', {
    params: {
        'author-login': true,
        'image-id': true
    }
});
no.Model.define('comments', {
    params: {
        'author-login': true,
        'image-id': true,
        'page-size': 5,
        'page': 0
    }
});

no.View.define('app', {
    models: [ 'auth' ]
});
no.View.define('index');
no.View.define('user');
no.View.define('profile', {
    models: [ 'profile' ]
});
no.View.define('recent-photos', {
    // models: [ 'recent-photos' ]
});
no.View.define('photo', {
    params: {
        'author-login': true,
        'image-id': true
    }
});
no.View.define('photo-image', {
    models: [ 'photo' ]
});
no.View.define('photo-comments', {
    models: [ 'auth', 'comments' ]
});

var app = no.View.create('app');
app.node = no.byClass('view-app')[0];
app._dummy = true;

var update = new no.Update(app, no.layout.page('view-photo'), {
    'author-login': 'dkomanov',
    'image-id': 423
});
update.start();

</script>
</body>
</html>
